@import './variables.css';

/* Reset */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* Base */
html { font-size: 16px; -webkit-text-size-adjust: 100%; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background: var(--color-bg-primary); color: var(--color-text-primary); line-height: 1.5; min-height: 100vh; min-height: 100dvh; overscroll-behavior: none; -webkit-font-smoothing: antialiased; }

/* iOS viewport fix */
@supports (padding: env(safe-area-inset-bottom)) {
  body { padding-bottom: env(safe-area-inset-bottom); }
}

/* App container */
.app-container { display: flex; flex-direction: column; min-height: 100vh; min-height: 100dvh; position: relative; }
.main-content { flex: 1; overflow-y: auto; -webkit-overflow-scrolling: touch; }

/* Top bar */
.top-bar { display: flex; align-items: center; justify-content: space-between; padding: var(--spacing-sm) var(--spacing-md); padding-top: max(var(--spacing-sm), env(safe-area-inset-top, 0px)); background: var(--color-bg-secondary); border-bottom: 1px solid var(--color-border); position: sticky; top: 0; z-index: 100; min-height: 48px; }
.top-bar-title { font-size: 1.1rem; font-weight: 700; color: var(--color-text-primary); letter-spacing: 0.5px; }

/* Scrollbar (desktop) */
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--color-border); border-radius: 2px; }

/* Links */
a { color: var(--color-accent); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Selection */
::selection { background: var(--color-accent-muted); color: var(--color-text-primary); }

/* Standalone PWA status bar area */
@media (display-mode: standalone) {
  .top-bar { padding-top: max(var(--spacing-md), env(safe-area-inset-top, 12px)); }
}

/* Touch optimization */
button, a, [role="button"], input, select, textarea { touch-action: manipulation; }

/* Focus visible */
:focus-visible { outline: 2px solid var(--color-accent); outline-offset: 2px; }
:focus:not(:focus-visible) { outline: none; }
